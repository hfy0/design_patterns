b_factory 模块的代码是工厂模式的 demo。

该 demo 实现的功能是：根据配置文件的后缀（json、xml、yaml、properties），选择不同的解析器（ruleConfigParser.JsonRuleConfigParser、ruleConfigParser.XmlRuleConfigParser……），将存储在配置文件中的配置项解析成内存对象 factory.other.RuleConfig。

为了简化代码，其中配置文件和解析器的解析结果用 mock 数据。不同解析器的解析结果返回不同的字符串，以示区分。

------

一般情况下，工厂模式分为三种更加细分的类型：简单工厂、工厂方法和抽象工厂。

我理解了简单工厂和工厂方法模式，没有理解抽象工厂模式，并且抽象工厂模式不常用，所有设计模式 demo 中只有简单工厂模式和工厂方法模式，没有抽象工厂模式的 demo。
- 简单工厂模式的 demo：RuleConfigSource1
- 工厂方法模式的 demo：RuleConfigSource2

------


工厂模式用于解决对象的创建逻辑复杂问题。

对象的创建逻辑复杂有两种情况：

- 第一种情况：代码中存在 if - else 分支判断，需要根据不同的参数创建不同类型的对象（不同类型的对象实现一个共同的接口）
- 第二种情况：对象的创建要组合其他类对象，做各种初始化操作

对于第二种情况，只能使用简单工厂模式，用一个工厂类封装复杂对象的创建过程。

对于第一种情况，可以使用简单工厂模式，也可以使用工厂方法模式。

- 如果单个对象的创建逻辑比较简单，使用简单工厂模式即可
- 如果单个对象的创建逻辑比较复杂，建议使用工厂方法模式，每种类型对象的创建逻辑独立到各自的工厂类中，提高代码的可读性和可维护性。
